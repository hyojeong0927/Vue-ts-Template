<template>
  <button type="reset" @click="resetAll">ì´ˆê¸°í™”</button>
  <TableWrap
    :columns="columns"
    :rows="rows"
    radio
    checkbox
    :modelValueCheckbox="selectedRows"
    :modelValueRadio="selectedRadio"
    @update:checkbox="onCheckboxUpdate"
    @update:radio="onRadioUpdate"
    @scroll-bottom="loadMore"
  >
    <template #memoSlot="{ row }">
      <input v-model="row.memo" placeholder="ë©”ëª¨ ì…ë ¥" />
    </template>

    <template #action="{ row }">
      <button @click="alert(row.name)">ë³´ê¸°</button>
    </template>
  </TableWrap>
  <Paging v-model="page" :total="125" :limit="10" :pageSize="10" @change="onPageChange" />
</template>

<script setup>
import { ref } from 'vue'
import TableWrap from '../../components/table/TableWrap-x.vue'
import Paging from '../../components/table/Paging.vue'
const page = ref(1)

const selectedRows = ref([])
const onPageChange = p => {
  console.log('í˜ì´ì§€ ì´ë™:', p)
}
const onCheckboxUpdate = list => {
  selectedRows.value = list
  console.log('âœ” ì²´í¬ëœ í–‰ ë¦¬ìŠ¤íŠ¸:', list)
}
const selectedRadio = ref(null)

const onRadioUpdate = index => {
  selectedRadio.value = index
  console.log('ğŸ”˜ ë¼ë””ì˜¤ ì„ íƒëœ í–‰ index:', index)
  console.log('ğŸ”˜ ì„ íƒëœ row ë°ì´í„°:', rows[index])
}
const loadMore = () => {
  console.log('More data load...')
}
const resetAll = () => {
  selectedRows.value = []
  selectedRadio.value = null
}
const columns = [
  // { key: '_radio', label: '', type: 'radio', align: 'center', width: '40px' },
  {
    key: '_checkbox',
    label: '',
    type: 'checkbox',
    align: 'center',
    width: '40px',
  },
  {
    key: 'groupInfo',
    label: 'ê·¸ë£¹ ì •ë³´',
    children: [
      { key: 'field01', label: 'ê·¸ë£¹1', align: 'center', width: '80px' },
      { key: 'field05', label: 'ê·¸ë£¹2', align: 'center', width: '80px' },
    ],
  },
  {
    key: 'userInfo',
    label: 'ì‚¬ìš©ì ì •ë³´',
    children: [
      { key: 'name', label: 'ì´ë¦„', align: 'left', width: '120px' },
      { key: 'email', label: 'ë©”ì¼', type: 'email', align: 'center', width: '140px' },
      { key: 'position', label: 'ì§ì±…', align: 'left', width: '100px' },
    ],
  },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '200px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '200px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '200px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '200px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '200px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '200px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
  { key: 'memo', label: 'ë©”ëª¨', slot: 'memoSlot', width: '100px' },
  { key: 'action', label: 'ê´€ë¦¬', slot: 'action', align: 'center', width: '80px' },
]

const rows = [
  {
    field01: 'A',
    field05: 'A-1',
    id: 1,
    name: 'ê¹€ì² ìˆ˜',
    position: 'ê°œë°œì',
    email: 'a1@g.com',
    memo: '',
  },
  {
    field01: 'A',
    field05: 'A-1',
    id: 2,
    name: 'ê¹€ì˜í¬',
    position: 'PM',
    email: 'a2@g.com',
    memo: '',
  },
  {
    field01: 'A',
    field05: 'A-2',
    id: 3,
    name: 'ë°•ë¯¼ìˆ˜',
    position: 'ë””ìì´ë„ˆ',
    email: 'a3@g.com',
    memo: '',
  },
  {
    field01: 'B',
    field05: 'B-1',
    id: 4,
    name: 'ìµœê°€ì„',
    position: 'ê°œë°œì',
    email: 'b1@g.com',
    memo: '',
  },
  {
    field01: 'B',
    field05: 'B-1',
    id: 5,
    name: 'ê°•ë™í¬',
    position: 'ê°œë°œì',
    email: 'b2@g.com',
    memo: '',
  },
  {
    field01: 'A',
    field05: 'A-1',
    id: 1,
    name: 'ê¹€ì² ìˆ˜',
    position: 'ê°œë°œì',
    email: 'a1@g.com',
    memo: '',
  },
  {
    field01: 'A',
    field05: 'A-1',
    id: 2,
    name: 'ê¹€ì˜í¬',
    position: 'PM',
    email: 'a2@g.com',
    memo: '',
  },
  {
    field01: 'A',
    field05: 'A-2',
    id: 3,
    name: 'ë°•ë¯¼ìˆ˜',
    position: 'ë””ìì´ë„ˆ',
    email: 'a3@g.com',
    memo: '',
  },
  {
    field01: 'B',
    field05: 'B-1',
    id: 4,
    name: 'ìµœê°€ì„',
    position: 'ê°œë°œì',
    email: 'b1@g.com',
    memo: '',
  },
  {
    field01: 'B',
    field05: 'B-1',
    id: 5,
    name: 'ê°•ë™í¬',
    position: 'ê°œë°œì',
    email: 'b2@g.com',
    memo: '',
  },
]
</script>
